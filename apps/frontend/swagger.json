{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/auth/discord":{"get":{"operationId":"AuthController_discordAuth","parameters":[],"responses":{"302":{"description":"Discordの認証ページにリダイレクト"}},"summary":"Discordログイン開始","tags":["Auth"]}},"/auth/discord/callback":{"get":{"operationId":"AuthController_discordAuthCallback","parameters":[{"name":"code","required":true,"in":"query","description":"Discord認証コード","schema":{"type":"string"}}],"responses":{"200":{"description":"Discord認証成功","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"}}}}}}},"summary":"Discord認証コールバック","tags":["Auth"]}},"/auth/verify":{"get":{"operationId":"AuthController_verifyToken","parameters":[],"responses":{"200":{"description":"トークンが有効","content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"string","description":"Discord User ID"}}}}}},"401":{"description":"無効なトークン"}},"security":[{"token":[]}],"summary":"JWTトークンの検証","tags":["Auth"]}},"/auth/servers":{"get":{"operationId":"AuthController_getDiscordServers","parameters":[],"responses":{"200":{"description":"Discordサーバー取得成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Server"}}}}},"summary":"Discordサーバー取得","tags":["Auth"]}},"/user":{"get":{"operationId":"UserController_findAll","parameters":[{"name":"name","required":false,"in":"query","description":"ユーザー名","schema":{"type":"string"}},{"name":"take","required":false,"in":"query","description":"取得件数","schema":{"minimum":1,"type":"number"}},{"name":"skip","required":false,"in":"query","description":"取得開始位置","schema":{"minimum":0,"type":"number"}}],"responses":{"200":{"description":"検索条件に当てはまるユーザの取得成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindAllUser"}}}}},"summary":"検索条件に当てはまるユーザの全取得","tags":["User"]}},"/user/login":{"get":{"operationId":"UserController_login","parameters":[{"name":"x-discord-id","required":true,"in":"header","schema":{"type":"string"}}],"responses":{"200":{"description":"最終ログイン時間の更新と自身のデータ取得成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"401":{"description":"Unauthorized"}},"summary":"認証済みでのログイン","tags":["User"]}},"/user/{id}":{"get":{"operationId":"UserController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"指定したユーザの取得成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"404":{"description":"User not found"}},"summary":"指定したユーザの取得","tags":["User"]},"patch":{"operationId":"UserController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"ユーザの更新成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"summary":"ユーザの更新","tags":["User"]},"delete":{"operationId":"UserController_remove","parameters":[],"responses":{"200":{"description":"ユーザの削除成功"}},"summary":"ユーザの削除","tags":["User"]}}},"info":{"title":"GFC Scheduler API","description":"API documentation for GFC Scheduler","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"Server":{"type":"object","properties":{"id":{"type":"string","description":"サーバーID"},"name":{"type":"string","description":"サーバー名"},"icon":{"type":"string","description":"サーバーアイコンURL","nullable":true}},"required":["id","name","icon"]},"User":{"type":"object","properties":{"id":{"type":"string","description":"DiscordユーザID"},"name":{"type":"string","description":"ユーザー名"},"avatar":{"type":"string","description":"アバター画像URL","nullable":true},"createdAt":{"format":"date-time","type":"string","description":"作成日時"},"updatedAt":{"format":"date-time","type":"string","description":"更新日時"},"lastLoggedInAt":{"format":"date-time","type":"string","description":"最終ログイン日時"}},"required":["id","name","avatar","createdAt","updatedAt","lastLoggedInAt"]},"FindAllUser":{"type":"object","properties":{"users":{"description":"ユーザー一覧","type":"array","items":{"$ref":"#/components/schemas/User"}},"total":{"type":"number","description":"総件数"}},"required":["users","total"]},"UpdateUserDto":{"type":"object","properties":{"name":{"type":"string","description":"ユーザ名"}}}}}}